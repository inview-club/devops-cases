# –ö–µ–π—Å ‚Ññ4 - Hot-Warm –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- [–ö–µ–π—Å ‚Ññ4 - Hot-Warm –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∫–µ–π—Å-4---hot-warm-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
  - [–¶–µ–ª—å](#—Ü–µ–ª—å)
  - [–°—Ç—ç–∫](#—Å—Ç—ç–∫)
  - [–ß–µ–∫–ø–æ–∏–Ω—Ç—ã](#—á–µ–∫–ø–æ–∏–Ω—Ç—ã)
  - [–†–µ–∑—É–ª—å—Ç–∞—Ç](#—Ä–µ–∑—É–ª—å—Ç–∞—Ç)
  - [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)

## –¶–µ–ª—å

–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ –ø—Ä–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ª–æ–≥–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–ª–∫ –∏–Ω–¥–µ–∫—Å–æ–≤ —Å –ª–æ–≥–∞–º–∏.

## –°—Ç—ç–∫

![Opensearch](https://img.shields.io/badge/opensearch_2.19-005EB8.svg?style=for-the-badge&logo=OpenSearch&logoColor=white)

## –ß–µ–∫–ø–æ–∏–Ω—Ç—ã

1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å [–∫–ª–∞—Å—Ç–µ—Ä](https://docs.opensearch.org/latest/tuning-your-cluster/#advanced-step-7-set-up-a-hot-warm-architecture) –∏–∑ 3 –Ω–æ–¥ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
   - 1 master-–Ω–æ–¥–∞
   - 4 data-–Ω–æ–¥—ã:
     - 2 –Ω–æ–¥—ã c –∞—Ç—Ä–∏–±—É—Ç–æ–º hot
     - 2 –Ω–æ–¥—ã —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã warm
2. –°–æ–∑–¥–∞—Ç—å [—à–∞–±–ª–æ–Ω](https://docs.opensearch.org/latest/im-plugin/index-templates/) –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
   - –¢–∏–ø —à–∞–±–ª–æ–Ω–∞: Data streams
      - –ü–æ–ª–µ –≤—Ä–µ–º–µ–Ω–∏: timestamp
   - –ü–∞—Ç—Ç–µ—Ä–Ω –∏–Ω–¥–µ–∫—Å–∞: logs
   - 1 —à–∞—Ä–¥
   - 1 —Ä–µ–ø–ª–∏–∫–∞
   - –ù–æ–≤—ã–µ —à–∞—Ä–¥—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –Ω–æ–¥–µ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º hot
   - –ú–∞–ø–ø–∏–Ω–≥–∏ –∏–Ω–¥–µ–∫—Å–∞:
      - level: keyword
      - trace_id: keyword
      - service: keyword
      - host: keyword
      - timestamp: data
      - message: text
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å [–ø–æ–ª–∏—Ç–∏–∫—É](https://docs.opensearch.org/latest/im-plugin/ism/index/), –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
    - –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: hot.
      –î–µ–π—Å—Ç–≤–∏—è:
        - Rollover:
          - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏–Ω–¥–µ–∫—Å–∞: 1 –º–∏–Ω—É—Ç–∞
          - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–Ω–¥–µ–∫—Å–∞: 100 mb
      –ü–µ—Ä–µ—Ö–æ–¥:
        - –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: warm
        - –¢—Ä–∏–≥–≥–µ—Ä: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏–Ω–¥–µ–∫—Å–∞: 1 –º–∏–Ω—É—Ç–∞
    - –°–æ—Å—Ç–æ—è–Ω–∏–µ: warm
      –î–µ–π—Å—Ç–≤–∏—è:
        - Allocation:
          - –ù–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É: warm
      –ü–µ—Ä–µ—Ö–æ–¥:
        - –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: delete
        - –¢—Ä–∏–≥–≥–µ—Ä: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏–Ω–¥–µ–∫—Å–∞: 1 –º–∏–Ω—É—Ç–∞
    - –°–æ—Å—Ç–æ—è–Ω–∏–µ delete
      –î–µ–π—Å—Ç–≤–∏—è:
        - Delete
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ª—é–±—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ —à–∞—Ä–¥—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –≤—Å–µ —ç—Ç–∞–ø—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞. –ú–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞—à–∏–º [–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º](https://github.com/inview-club/synthetica)
5. (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ) –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É —à–∞–±–ª–æ–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è **Dev Tools**.

## –†–µ–∑—É–ª—å—Ç–∞—Ç

1. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ **GET _cat/nodeattrs** –ø–æ–ª—É—á–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —É –Ω–æ–¥.
2. –ù–∞ –≤–∫–ª–∞–¥–∫–µ **Policy managed indexes** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–∞—Ç–∞ —Å—Ç—Ä–∏–º—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏–≤—è–∑–∞–Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞, –∞ —Ç–∞–∫–∂–µ –º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —É–∑–Ω–∞—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.
3. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ **GET _cat/shards?v** –≤—Å–µ —à–∞—Ä–¥—ã –∏–Ω–¥–µ–∫—Å–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å **STARTED** –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Å–Ω–∞—á–∞–ª–∞ –Ω–∞ –Ω–æ–¥–∞—Ö —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º **hot**, –ø–æ—Ç–æ–º —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º **warm** –∏ –≤ –∫–æ–Ω—Ü–µ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª—è—Ç—å—Å—è.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –ü–∏—à–∏ –≤ [–Ω–∞—à Telegram —á–∞—Ç](https://t.me/+nSELCyIX8ltlNjU6) ü´∂
